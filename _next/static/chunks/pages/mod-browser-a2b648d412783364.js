(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{52075:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mod-browser",function(){return n(91054)}])},13379:function(e,t,n){"use strict";n.d(t,{VO:function(){return U},Lp:function(){return H},ZP:function(){return layout},wN:function(){return S}});var a=n(85893),l=n(67294),r=n(86658),s=n(66409),i=n(35005),o=n(10682),d=n(77642),c=n(89054),u=n(25001),A=n(41244),h=n(85792),m=n(41664),p=n.n(m),g=n(25675),b=n.n(g),x={src:"/BTD-Mod-Helper//_next/static/media/ModsBtn.b2997d2b.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAflBMVEVMaXG7hCHLhwmdpoK9p4TdthSngVbxmwXNcgqrl4LEmia8nmS3XVuRcjV/Qj9zVVXLnj7Usn/UlxKid05oqXijpUDWly/osACUdSzIjSfOplO4kV7/oQAvpKfGlky5rYeviR+TXxx7nWuGt2VaoXC0dRKPkjbKlyFXvpPQxxtqnmY1AAAAIHRSTlMA/v3+aHn9NU8skZGke6wh/Tzpcf74/Pv+/P53+/ryhJZ2BQQAAAAJcEhZcwAADsIAAA7CARUoSoAAAABHSURBVHicFctFFoAgAEDBLyrY3Qm297+gz9kPkK+OD+DY9pCF4C9a9J2MGC0pjGUSyru99HTGpMU7N8fmgVc/1R78Tbmugg+BywPMW/TImwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},f=n(15747),w=n(11163),v=n(10191),j=n(16336),N=n(24486),M=n(29100),R=n(12158),k=n(80516),y=n(4376),B=n(22133),Z=n(93967),D=n.n(Z),E=n(40784);let ModHelperNavItem=e=>{let{path:t,title:n,href:l,disabled:r,children:s,active:i,...o}=e;return(0,a.jsx)(A.Z,{"data-toggle":"tooltip",title:n,children:(0,a.jsx)(h.Z,{as:p(),href:l,disabled:r,active:!r&&("/"===l?l===t:t.startsWith(i||l)),className:"text-outline-black fs-3 py-0",...o,children:s})})},ModHelperNavBar=e=>{var t;let{className:n}=e,r=(0,w.useRouter)(),s=null!==(t=null==r?void 0:r.asPath)&&void 0!==t?t:"",{theme:i,refreshTheme:d}=(0,l.useContext)(E.ThemeContext);return(0,a.jsx)(o.Z,{fluid:S,className:D()("p-0","mb-2","my-".concat(S,"-4"),n),children:(0,a.jsxs)(c.Z,{variant:"dark",expand:"md",className:"luckiest-guy d-flex main-panel btd6-panel blue header",children:[(0,a.jsx)(u.Z,{href:"/BTD-Mod-Helper/",className:"py-0",children:(0,a.jsx)(b(),{src:x,alt:"Mod Helper logo",width:50,height:50,loading:"eager",priority:!0})}),(0,a.jsx)(u.Z,{href:"/BTD-Mod-Helper/",className:"text-outline-black text-white fs-3 py-0 me-auto",children:"BTD Mod Helper"}),(0,a.jsx)("div",{className:"ms-auto me-4",children:(0,a.jsx)(j.p,{className:"dark-mode-switch",checked:"dark"===i,sunColor:"rgba(255,255,255,.75)",moonColor:"rgba(255,255,255,.75)",onChange:()=>{let e="dark"===i?"light":"dark";localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e),d()},size:"2rem",style:{userSelect:"none"}})}),(0,a.jsx)(v.Z,{label:"toggle",className:"btd6-button blue p-2",children:(0,a.jsx)(B.Z,{size:"2rem",className:"text-white"})}),(0,a.jsx)(f.Z,{className:"flex-grow-0",children:(0,a.jsxs)("div",{className:"navbar-nav ms-auto text-center",children:[(0,a.jsx)(ModHelperNavItem,{path:s,href:"/",children:"Home"}),(0,a.jsx)(ModHelperNavItem,{path:s,href:"/wiki/Home",active:"/wiki",children:"Wiki"}),(0,a.jsx)(ModHelperNavItem,{path:s,href:"/docs/README",active:"/docs",children:"Docs"}),(0,a.jsx)(ModHelperNavItem,{path:s,href:"/mod-browser",children:"Mod Browser"})]})})]})})},ModHelperFooter=e=>{let{buttonName:t,buttonOnClick:n,className:r,body:s}=e;(0,l.useContext)(H);let[c,u]=(0,l.useContext)(y.Nq);return(0,a.jsxs)(o.Z,{fluid:S,className:D()("main-panel btd6-panel blue mt-2 footer","my-".concat(S,"-4"),"d-flex justify-content-between align-items-center",r),children:[(0,a.jsx)(i.Z,{variant:"outline-light",onClick:()=>{n?n():window.scrollTo({top:0,behavior:"smooth"})},className:"btd6-button blue long  p-3 text-white",children:t||"Back to Top"}),(0,a.jsx)("div",{className:"text-center d-none d-sm-block fs-larger",children:s||(0,a.jsxs)(a.Fragment,{children:["To learn how to download BTD Mod Helper and install mods,"," ",(0,a.jsx)(p(),{href:"/wiki/Install-Guide#main-content",children:"click here"})]})}),(0,a.jsxs)(d.Z,{drop:"up",align:"end",className:"text-end",children:[(0,a.jsx)(N.Z,{className:"btd6-panel blue-insert-round",variant:"outline-light",children:"Background"}),(0,a.jsx)(M.Z,{className:"non-main-panel bg-black btd6-panel blue-insert pe-0",children:(0,a.jsx)(U,{children:Object.keys(R).map(e=>(0,a.jsx)(k.Z,{active:e===c,className:"p-0 me-3 w-auto text-white",onClick:()=>u(e),children:R[e]},e))})})]})]})};var C=n(37);let S="lg",H=(0,l.createContext)(null),U=(0,l.forwardRef)((e,t)=>{let{children:n,...l}=e;return(0,a.jsx)(r.$B,{ref:t,universal:!0,autoHeight:!0,autoHide:!0,hideTracksWhenNotNeeded:!0,autoHideTimeout:1e3,autoHideDuration:200,renderTrackVertical:e=>{let{style:t,...n}=e;return(0,a.jsx)("div",{...n,style:{...t,width:10,top:2,bottom:2,borderRadius:3,right:2,backgroundColor:"rgba(255, 255, 255, 0.2)"}})},renderThumbVertical:e=>{let{style:t,...n}=e;return(0,a.jsx)("div",{...n,style:{...t,borderRadius:3,backgroundColor:"rgba(255, 255, 255, 0.5)"}})},...l,children:n})});var layout=e=>{var t;let{children:n,className:l,style:r,bottomLeftButton:i,bottomLeftOnClick:o,headerClassName:d,footerClassName:c,fitHeight:u,footerBody:A,...h}=e,m=null!==(t=(0,s.g)())&&void 0!==t?t:1e3;return(0,a.jsxs)("div",{className:D()("d-flex","flex-column",l),style:{minHeight:m,...r},...h,children:[(0,a.jsx)(C.Z,{}),(0,a.jsx)(ModHelperNavBar,{className:d}),n,(0,a.jsx)(ModHelperFooter,{buttonName:i,buttonOnClick:o,className:c,body:A})]})}},34252:function(e,t,n){"use strict";n.d(t,{c8:function(){return markdownToHtml},vn:function(){return htmlToReact}});var a=n(85893),l=n(14640),r=n(83415),s=n(62398),i=n(73398),o=n(86073),d=n(80983),c=n(52935),u=n(71810),A=n(63570),h=n(6100),m=n(16861),p=n(7685),g=n(67294),b=n(41664),x=n.n(b),f=n(19523);n(26362);var w=n(93967),v=n.n(w),j=n(34e3);let rewrittenUrl=(e,t)=>(e.startsWith("https://github.com/gurrenm3/BTD-Mod-Helper/wiki")&&(e=(e=e.replace("https://github.com/gurrenm3/BTD-Mod-Helper","")).replace(encodeURIComponent("[3.0]-"),"").replace(encodeURIComponent("-(ModHelperComponents)"),"")),!t||e.startsWith("http")||(e.startsWith("/")||(e="/"+e),t.endsWith("/")&&(t=t.substring(0,t.length-1)),e.startsWith(t)||(e=t+e)),e.startsWith("http")||(e=e.replace(/\.md/,"")),e),rewrite=(e,t)=>({rewrite:n=>{var a,l,r,s;if("element"===n.type&&n.properties){if("code"===n.tagName&&(n.properties.className=[...new Set([...null!==(s=n.properties.className)&&void 0!==s?s:[],"hljs"])]),"a"===n.tagName&&(null===(a=n.properties)||void 0===a?void 0:a.href)){let t=n.properties.href;n.properties.href=rewrittenUrl(t,e)}if("img"===n.tagName&&(null===(l=n.properties)||void 0===l?void 0:l.src)){let e=n.properties.src;n.properties.src=rewrittenUrl(e,t)}"img"===n.tagName&&(null===(r=n.properties)||void 0===r?void 0:r.src)==="https://raw.githubusercontent.com/gurrenm3/BTD-Mod-Helper/master/banner.png"&&(n.tagName="div")}}}),markdownToHtml=(e,t)=>(0,l.j)().use(r.Z).use(s.Z,{allowDangerousHtml:!0}).use(i.Z).use(o.Z,{detect:!0,ignoreMissing:!0,aliases:{json:"json5"}}).use(d.Z).use(c.Z,{properties:{"aria-hidden":"true",tabIndex:-1,className:["position-relative"]}}).use(u.Z,rewrite(e,t)).use(A.Z),htmlToReact=e=>(0,h.a)().use(m.Z,{fragment:!0}).use(e?f.Z:()=>{}).use(p.Z,{createElement:g.createElement,Fragment:g.Fragment,components:{a:e=>{let{className:t,href:n,...l}=e;return n?(0,a.jsx)(x(),{className:v()(t,"next-link"),href:n,...l}):(0,a.jsx)("a",{className:t,...l})},span:e=>{let{className:t,children:n,...l}=e;return"icon icon-link"!==t||n?(0,a.jsx)("span",{className:t,children:n,...l}):(0,a.jsx)(j.Z,{className:"hide-unless-hover position-absolute ms-1 mt-1 end-0"})}}})},37:function(e,t,n){"use strict";n.d(t,{w:function(){return MainContentMarker}});var a=n(85893),l=n(41664),r=n.n(l);n(67294),t.Z=()=>(0,a.jsx)(r(),{href:"#main-content",className:"position-absolute visually-hidden-focusable",onClick:()=>{var e;return null===(e=document.getElementById("main-content"))||void 0===e?void 0:e.focus()},children:"Skip to Main Content"});let MainContentMarker=()=>(0,a.jsx)("a",{id:"main-content",tabIndex:-1})},3213:function(e,t,n){"use strict";n.d(t,{Ep:function(){return useParamInt},Rl:function(){return useParamBool},pE:function(){return useParam}});var a=n(1469),l=n.n(a),r=n(7654),s=n.n(r);let useParam=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",a=e.query[t],r=l()(a)?a.join(n):a;return[r,n=>e.replace({query:{...e.query,[t]:n}},void 0,{scroll:!1})]},useParamBool=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.query[t];return[null!=a?"false"!=a:n,n=>e.replace({query:{...e.query,[t]:String(n)}},void 0,{scroll:!1})]},useParamInt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=e.query[t];return[s()(a)||s()(parseInt(String(a)))?n:parseInt(String(a)),n=>e.replace({query:{...e.query,[t]:String(n)}},void 0,{scroll:!1})]}},91054:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return mod_browser}});var a,l,r=n(85893),s=n(13379),i=n(67294),o=n(35005),d=n(31555),c=n(16518),u=n(10682),A=n(77642),h=n(51211),m=n(94716),p=n(30767),g=n(51479),b=n(34051),x=n(36968),f=n(10147),w=n(71143),v=n(35386),j=n(47863),N=n(39390);let M="btd6-mod",R="https://raw.githubusercontent.com/".concat(j.Ib,"/").concat(j.BS,"/").concat(j.So,"/modders.json"),getModdersData=async()=>await fetch(R).then(e=>e.json()),populateSpecificMod=async e=>{let t=new N.vd,[n,a,l]=e.split("/"),r=await t.rest.repos.get({owner:n,repo:a});if(r.data)return await (0,j.sB)(r.data,l)},populateMods=async(e,t)=>{let n=new N.vd,a=new Set,l=0,r=1;Date.now();let s=n.rest.search.repos({q:"topic:".concat(M),per_page:100,page:r}),i=(await s).data;for(t(i.total_count);i.items&&i.items.length>0;){await Promise.all(i.items.map(async t=>{let n=await (0,j.sB)(t);n&&e(n)?a.add(n.Identifier):l++})),r++;let t=await n.rest.search.repos({q:"topic:".concat(M),per_page:100,page:r});i=t.data}let o=(await n.rest.search.repos({q:"topic:".concat("btd6-mods"),per_page:100})).data;if(o.items&&o.items.length>0)for(let n of o.items){let r=await (0,j.hO)(n);for(let n of(t(i.total_count+o.total_count+r.length),r))n&&e(n)?a.add(n.Identifier):l++}t(a.size)},downloadMod=async(e,t,n)=>{if(!e.LatestRelease){let t=new N.vd;e.LatestRelease=t.rest.repos.getLatestRelease({owner:e.RepoOwner,repo:e.RepoName}).then(e=>e.data).catch(()=>null)}let a=await e.LatestRelease;if(a){a.mod=e,t?t(a):(downloadRelease(a),e.Dependencies&&n&&n(e));return}e.DllName&&(window.open((0,j.Vw)(e,e.DllName),"_blank"),e.Dependencies&&n&&n(e))},downloadRelease=e=>{var t;if(!e)return;let n=e.mod,a=null!==(t=e.assets.find(e=>e.name===n.DllName||e.name===n.ZipName))&&void 0!==t?t:e.assets[0];window.open(a.browser_download_url,"_blank")};var k=n(3213),y=n(11163),B=n(59242),Z=n.n(B),D=n(80715),E=n.n(D),C=n(89734),S=n.n(C),H=n(24486),U=n(29100),V=n(80516),T=n(66409),I=n(74221),O=n(87445),F=n(93967),z=n.n(F);let getColor=e=>{switch(e){case"doombubbles":return"rgba(200, 0, 255, 255)";case"gurrenm3":return"rgba(200, 150, 255, 255)";default:return"white"}};var G=n(25675),P=n.n(G),L={src:"/BTD-Mod-Helper//_next/static/media/Star.8cfad2d5.png",height:219,width:220,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEXqt4bevk/BlTjZrkSxgzP/3UTswD5GOBzNqED/4Ez/5Vndv0/311rHnD2qdyOyfRzYtVnt2lf93Trozl/jzHj/1jX//Wb/7FT/93f/8YX/91P//55swkG+AAAAFXRSTlMBzn/Ob/71B7T9/eP9kFJdyPL99tRx6xUFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAQElEQVR4nAXBhQHAIBAAscP6OFSAyv57NkEQ7wUB7FwW0Gp/xmY06XVjHDNRNxfCOiv4GOLdQdSd83cJFNNaL/xVpgKfOJZy4wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},X={src:"/BTD-Mod-Helper//_next/static/media/HomeBtn.f5b81f60.png",height:346,width:346,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAWlBMVEVNttpNp9QB2PhmutlxqMp8vdutztmi5fVgrdFioslYqtRUpdGS6PWux9Vst9VO1fh45PU+0/pin8aDpsC0uroDt/0B3f8Axf4N1vqu6/a97vYA0/7///804v/UBUbuAAAAFXRSTlPw7/74pe9X/cS999z+SbP6/PiziimCt0wmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAQ0lEQVR4nB3BBxLAIAgEwNOoQHoFW/7/zcxkFykOAJAQX81ZdcWovhavDNfm3vfGcFaokjEm24gOE/DzC1hEzhCu+wN52wORnCGqSgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},Q={src:"/BTD-Mod-Helper//_next/static/media/InfoBtn.e90cb0d0.png",height:130,width:130,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXF2nbVznbei6vYA0v+EorT///8A4f9lkrKjrbmarbuUqbr///z/9utgk7G4vcX///////8Axv8lx+shvuUAwfAGqOQaqNY60Oqz6fZu4fYIkdQAteoils0urtgPjs3FM0G3AAAAF3RSTlMA2ej+/c0V/NiToawqOfKFDxv6/f7//uod2MMAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABESURBVHicBcGFAcAwDAMwF5PisDj6/8tJwBakcBGw5j3OlhNco6moeshCvVNhiFsPpQtjefYx9RWwmq/WKyfAemYX8QN0bQNY+XQDsQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},W={src:"/BTD-Mod-Helper//_next/static/media/ArrowHideBtn.b535f10a.png",height:166,width:166,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEX///99p8F+psJ0pMEf4f2pt8Suu8lMaXGbscVsnr368u4AqvEAy/9Q3Pdi2fjJztOYssX//+93pcJYn8D/+/QQzvba9/nZ+PsGtuj+/v4MltkDwPM03/gmmtMcst8kuuaUw8QSAAAAGHRSTlMf3+fy+6GvALftQv74/v6T1DL9+kf+/v7vSScUAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAARUlEQVR4nAXBBwKAIAwEsENG2W5tAfX/vzQBwW/KrgSoz5y8R9jXjGHYQ/MtcvWAiYtI6QHzk2vNzQNLS6mFAwSnlYv0A37vA3qbtXAzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},q={src:"/BTD-Mod-Helper//_next/static/media/VerifiedIcon.c6f0b4b6.png",height:90,width:90,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEUAHlsJF1Lu8vf9/v9MaXG/y9higKFZeJxXdptVdJve5OuhtMvZ4OhQcZYiS3oVu5Z9AAAAC3RSTlM7Dv7+AP3RxcTD/dk4Ms4AAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA5SURBVHicRcpBEoBACAPBgYDLGvX/z7U8ee6mgjVEEYczfQRY6jZMntfd2mz5sXI+6pT5cwWziHoBLl8BR3n1J50AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},_={src:"/BTD-Mod-Helper//_next/static/media/DownloadBtn.b6a3119b.png",height:346,width:346,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEVs5wRpuVC666DG7qFsu1BxxUJ4xVF2ul1A2gFxr2RQ3QZ9tnCLynG707CYyoSEx2Szz6qr5od1vWKyzq6Fw2rX87yBtHS0urqKsYEvzwJz4Rb///9d3QL1+vBn7AA01gCL7jTg8tg60Apz5RBgNSMkAAAAIHRSTlP+4/389fPtwv65/KnrXvP4Uf7ISbP7nSmK//7//////uPYYtYAAAAJcEhZcwAADsIAAA7CARUoSoAAAABFSURBVHicBcGFAcAgEASwQx+pO96y/5BNME6zUlovGF7EiHpAIn8lVoLMa0kCBGZ4SsIRWDP8dIawhRZ66B67tdZfz/0DhiMD6d2UNgkAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},Y=n(34252);let ModEntry=e=>{var t;let{mod:n,data:a,selectMod:l,showRelease:s,mini:c,style:u}=e,A=n.SquareIcon?50:60,h=n.SquareIcon?"-.75rem":"-1rem",[m,p]=(0,i.useState)(!1),g=(0,i.useMemo)(()=>(0,Y.vn)(!0).processSync((n.Description||"No Description Provided").replaceAll("\\n","<br/>").replaceAll("\n","<br/>")).result,[n.Description]),x=(0,i.useRef)(null),f=(0,i.useRef)(null);return(0,r.jsxs)("div",{style:u,ref:x,children:[(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsxs)(b.Z,{ref:f,className:z()("non-main-panel btd6-panel blue","user-select-none","flex-fill mx-0 p-md-0 gap-3 gap-md-0 gx-0 gx-md-3","align-items-center align-content-around","luckiest-guy lh-1 fs-5","flex-wrap flex-md-nowrap",c?"justify-content-between":"justify-content-around"),children:[(0,r.jsx)(d.Z,{id:"icon",xs:"auto",style:{margin:"-1rem 0 -1rem ".concat(h)},className:"d-lg-block",children:(0,r.jsx)("div",{style:{height:60,width:60},className:"d-flex",children:(0,r.jsx)("img",{alt:"",src:(0,j.m_)(n),onError:e=>{let t=e.target;t.style.height="0",t.style.width="0",t.parentElement.parentElement.classList.add("d-none")},height:A,width:A,className:"m-auto"})})}),(0,r.jsx)(d.Z,{id:"name",xs:8,sm:"auto",md:3,className:"text-outline-black",style:{overflowWrap:"break-word"},children:(0,j.jC)(n)}),(0,r.jsx)(d.Z,{id:"author",xs:8,sm:"auto",md:4,className:"text-center",children:(0,r.jsxs)("a",{className:"text-outline-black text-decoration-none",href:"https://github.com/".concat(n.RepoOwner),style:{color:getColor(n.RepoOwner)},target:"_blank",children:[(0,j.uf)(n),a.verified.includes(n.RepoOwner)&&(0,r.jsx)(P(),{src:q,height:20,width:20,alt:"VerifiedIcon",className:"ms-1 user-select-none",draggable:!1})]})}),!c&&(0,r.jsx)(d.Z,{id:"version",xs:"auto",className:"text-outline-black",style:{minWidth:"5rem"},children:(0,j.c$)(n)}),!c&&(0,r.jsxs)(d.Z,{xs:"auto",id:"stars",className:"mx-md-auto text-outline-black",children:[(0,r.jsx)("a",{href:(0,j.Lg)(n),className:"btn btd6-button p-0 border-0",target:"_blank",children:(0,r.jsx)(P(),{src:L,height:25,width:25,alt:"Star",className:"mb-1 me-1 user-select-none",draggable:!1})}),(0,j.IJ)(n),n.CountOfMonoRepo?"+":" "]}),l&&(0,r.jsx)(d.Z,{id:"info",xs:"auto",children:(0,r.jsx)(P(),{src:Q,alt:"More Info",className:"btn btd6-button m-0 p-0 border-0",height:35,draggable:!1,onClick:()=>l(n)})}),(0,r.jsx)(d.Z,{id:"description",xs:"auto",children:(0,r.jsx)(P(),{src:W,alt:"Description",className:"btn btd6-button m-0 p-0 border-0",height:35,draggable:!1,onClick:()=>p(!m)})})]},n.Identifier),(0,r.jsxs)("div",{className:"flex-shrink-0 d-flex gap-3 ms-3 flex-column flex-md-row justify-content-around",children:[(0,r.jsx)("a",{href:(0,j.S_)(n,"#readme"),target:"_blank",children:(0,r.jsx)(P(),{src:X,alt:"Homepage",className:"btn btd6-button m-0 p-0 border-0",height:50,width:50,loading:"eager",draggable:!1})}),(0,r.jsx)(o.Z,{className:"p-0 bg-transparent border-0",onClick:()=>downloadMod(n,s,c?void 0:l),children:(0,r.jsx)(P(),{src:_,alt:"Download",className:"btn btd6-button m-0 p-0 border-0",height:50,width:50,draggable:!1,loading:"eager"})})]})]}),(0,r.jsx)(O.Z,{target:f.current,container:x.current,show:m,placement:"bottom",rootClose:!0,onHide:()=>p(!1),children:(0,r.jsx)("div",{style:{width:null===(t=f.current)||void 0===t?void 0:t.clientWidth,zIndex:10},className:"non-main-panel bg-black btd6-panel blue-insert text-white",children:g})})]})};var J={src:"/BTD-Mod-Helper//_next/static/media/WarningSign.d9bde8f8.png",height:235,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAKlBMVEVMaXG6Lhe6Lha5LRe6Lhe7LxW5Lhe5Lha8Lhe5LRe4LRe8MBa7MxbGMRi9G0SZAAAADXRSTlMAZMOZpjjdnbfy7kUtjLYCbAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAADNJREFUeJwdiMkNADAIwxKgF232X7cCf2wZAHyheXOOjk1aeYjUraEVMoCSh0RYHo+T9gEXuwD9gvGrMAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7},K=n(37),$=n(81333);(a=l||(l={})).RecentlyUpdated="Recently Updated",a.Popularity="Popularity",a.Alphabetical="Alphabetical",a.New="New",a.Old="Old",a.Relevance="Relevance";let sortMods=e=>t=>{var n,a;let l=new Date(t.Repository.created_at).getTime(),r=new Date(t.Repository.pushed_at||t.Repository.created_at).getTime();if((null!==(n=t.CountOfMonoRepo)&&void 0!==n?n:1)>1){let e=Math.floor(Math.sqrt(null!==(a=t.CountOfMonoRepo)&&void 0!==a?a:1)),n=Date.now()-r;r-=n*e}switch(e){case"Popularity":return-(0,j.IJ)(t);case"Alphabetical":return(0,j.jC)(t);case"Old":return l;case"New":return-l;case"Relevance":return 0;default:return-r}},ee="Filter Topic";var mod_browser=()=>{var e;let t=(0,y.useRouter)(),n=null!==(e=(0,T.g)())&&void 0!==e?e:1e3,a=(0,i.useRef)({forceVerifiedOnly:!1,verified:[],banned:[],bannedMods:[],topics:[]}),[N,{upsert:M,reset:R}]=(0,f.Z)([]),[B,{set:D,reset:C}]=(0,w.Z)({}),[O]=(0,i.useState)(()=>new I.Z([],{keys:["Name","RepoName","RepoOwner","Author","Description","DllName","Topics"]})),onModFound=e=>!(!e||a.current.banned.includes(e.RepoOwner)||a.current.bannedMods.includes(e.Identifier))&&(M(t=>t.Identifier===e.Identifier,e),O.add(e),D(e.Identifier,e),!0),[F,G]=(0,i.useState)(100),getAllMods=()=>{R(),C(),O.remove(()=>!0),populateMods(onModFound,e=>{G(e)}).then(()=>console.log("Finished populating mods"))};(0,i.useEffect)(()=>{getModdersData().then(e=>a.current=e).then(()=>console.log("Got modders data")),getAllMods()},[]);let[L,X]=(0,k.pE)(t,"selected-mod"),[Q,W]=(0,k.pE)(t,"topic"),[_,et]=(0,k.pE)(t,"search"),[en,ea]=(0,i.useState)(""),[el,er]=(0,k.Rl)(t,"unverified"),[es,ei]=(0,k.Ep)(t,"old",j.ph);(0,v.Z)(()=>{et(en),en?ed("Relevance"):"Relevance"===eo&&ed("Popularity")},500,[en]),(0,i.useEffect)(()=>ea(_),[_]),(0,i.useEffect)(()=>{!L||L in B||populateSpecificMod(L).then(onModFound)},[L]);let[eo,ed]=(0,k.pE)(t,"sort"),ec=(0,i.useMemo)(()=>Z()(e=>_?O.search(_).map(e=>e.item):e,e=>e.filter(e=>!(0,j.vy)(e,es)),e=>e.filter(e=>el&&!a.current.forceVerifiedOnly||a.current.verified.includes(e.RepoOwner)),e=>e.filter(e=>!Q||Q===ee||e.Topics.includes(Q)),e=>S()(e,sortMods(eo||"Recently Updated")))(N),[N,eo,Q,_,el,es]),[eu,eA]=(0,i.useState)(void 0),eh=(0,i.useMemo)(()=>{if(!(null==eu?void 0:eu.body))return(0,r.jsx)(r.Fragment,{});let e=eu.body.split(/<!--Mod Browser Message Start-->[\r\n\s]*/).findLast(e=>!!e),t=(0,Y.c8)((0,j.Vw)(eu.mod)).processSync(e);if(!t)return(0,r.jsx)(r.Fragment,{});let n=(0,Y.vn)(!0).processSync(t.toString()).result;return n},[eu]),[em,ep]=(0,i.useState)((0,r.jsx)(r.Fragment,{}));(0,i.useEffect)(()=>{if(!L||!(L in B)){ep((0,r.jsx)(r.Fragment,{}));return}let e=B[L],t=(0,j.Vw)(e,"README.md");fetch(t).then(async t=>{let n=t?await t.text():"This mod has no README.md";n&&n.trim()||(n="This mod has an empty README.md");let a=await (0,Y.c8)((0,j.S_)(e),(0,j.Vw)(e)).process(n),l=await (0,Y.vn)(!0).process(a.toString());ep(l.result)})},[L,B[L]]);let eg=(0,i.useMemo)(()=>L&&L in B?(0,j.Ev)(B[L],B).filter(e=>e!==L):[],[L,B]),eb=(0,i.useRef)(null);return(0,r.jsxs)(s.ZP,{style:{height:n},bottomLeftOnClick:()=>{var e;return null===(e=eb.current)||void 0===e?void 0:e.scrollTop(0)},footerClassName:"d-none d-".concat(s.wN,"-flex"),children:[(0,r.jsx)($.Z,{title:"BTD6 Mod Browser",description:"Browse, search and download mods for BloonsTD6 using BTD Mod Helper."}),(0,r.jsxs)(u.Z,{fluid:s.wN,className:"d-flex flex-column main-panel btd6-panel blue flex-1 gap-2",children:[(0,r.jsxs)(b.Z,{className:"g-3 justify-content-between",children:[(0,r.jsx)(d.Z,{xs:7,lg:5,className:"flex-grow-1",children:(0,r.jsx)(h.Z,{onSubmit:e=>{e.preventDefault(),et(en)},children:(0,r.jsx)(m.Z,{value:en,className:"btd6-panel blue-insert-round",placeholder:"Search...",onChange:e=>ea(e.target.value)})})}),!a.current.forceVerifiedOnly&&(0,r.jsx)(d.Z,{xs:"auto",className:"order-lg-last",children:(0,r.jsx)(o.Z,{variant:"outline-light",className:z()("btd6-button",el?"yellow":"blue"),onClick:()=>er(!el),children:el?(0,r.jsx)(P(),{src:J,alt:"Unverified",height:20,width:20,className:"p-0",draggable:!1}):(0,r.jsx)(P(),{src:q,alt:"Verified",height:20,width:20,className:"p-0",draggable:!1})})}),(0,r.jsx)(d.Z,{xs:5,lg:2,className:"order-lg-first",children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(H.Z,{variant:"outline-light",className:"btd6-panel blue-insert-round w-100",children:eo||"Recently Updated"}),(0,r.jsx)(U.Z,{className:"non-main-panel bg-black btd6-panel blue-insert",children:Object.entries(l).map(e=>{let[t,n]=e;return(0,r.jsx)(V.Z,{active:eo===n,onClick:()=>ed(n),className:"text-white",children:n},t)})})]})}),(0,r.jsx)(d.Z,{xs:4,lg:2,children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(H.Z,{variant:"outline-light",className:"btd6-panel blue-insert-round w-100",children:Q||ee}),(0,r.jsxs)(U.Z,{className:"non-main-panel bg-black btd6-panel blue-insert",children:[(0,r.jsx)(V.Z,{onClick:()=>W(ee),className:"text-white",active:Q===ee,children:"Any"}),a.current.topics.map(e=>(0,r.jsx)(V.Z,{onClick:()=>W(e),className:"text-white",active:Q===e,children:e},e))]})]})}),(0,r.jsx)(d.Z,{xs:3,lg:2,children:(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(H.Z,{variant:"outline-light",className:"btd6-panel blue-insert-round w-100",children:0===es?"All":"BTD6 v".concat(es,"+")}),(0,r.jsxs)(U.Z,{className:"non-main-panel bg-black btd6-panel blue-insert",children:[E()(j.ph,j.fI+1).map(e=>(0,r.jsx)(V.Z,{onClick:()=>ei(e),className:"text-white",active:es===e,children:"BTD6 v".concat(e,"+")},e)),(0,r.jsx)(V.Z,{onClick:()=>ei(0),className:"text-white",active:0===es,children:"All"})]})]})})]}),(0,r.jsx)(K.w,{}),(0,r.jsxs)("div",{className:"flex-grow-1 position-relative btd6-panel blue-insert-round overflow-hidden p-0",children:[0===N.length&&(0,r.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",children:(0,r.jsx)(x.Z,{})}),(0,r.jsx)(s.VO,{ref:eb,className:"position-absolute h-100",autoHeightMin:"100%",autoHeightMax:"100%",children:(0,r.jsx)("div",{className:"d-flex flex-column gap-3 p-3",children:ec.map(e=>(0,r.jsx)(ModEntry,{mod:e,data:a.current,selectMod:e=>X(e.Identifier),showRelease:eA},e.Identifier))})})]}),(0,r.jsx)(c.Z,{in:N.length<F,children:(0,r.jsx)(g.Z,{max:F,now:N.length,animated:!0,className:"mt-1"})})]}),(0,r.jsxs)(p.Z,{id:"release",show:!!eu,onHide:()=>eA(void 0),dialogClassName:z()("main-panel btd6-panel blue"),contentClassName:z()("main-panel btd6-panel blue-insert-round pb-0 shadow-none"),children:[(0,r.jsx)(p.Z.Header,{closeButton:!0,closeVariant:"white",children:(0,r.jsxs)(p.Z.Title,{className:"luckiest-guy text-outline-black",children:[(0,j.jC)(null==eu?void 0:eu.mod)," ",(0,j.c$)(null==eu?void 0:eu.mod)]})}),(0,r.jsx)(p.Z.Body,{children:eh}),(0,r.jsxs)(p.Z.Footer,{className:"p-0 luckiest-guy d-flex justify-content-between",children:[(0,r.jsx)(o.Z,{variant:"outline-light",className:"btd6-button red long fs-5 pb-2 text-outline-black",style:{height:45},onClick:()=>eA(void 0),children:"Cancel"}),(0,r.jsx)(o.Z,{variant:"outline-light",className:"btd6-button blue long fs-5 pb-2 text-outline-black",style:{height:45},onClick:()=>window.open("https://github.com/".concat(null==eu?void 0:eu.mod.RepoOwner,"/").concat(null==eu?void 0:eu.mod.RepoName,"/releases")),children:"More"}),(0,r.jsx)(o.Z,{variant:"outline-light",className:"btd6-button green long fs-5 pb-2 text-outline-black",style:{height:45},onClick:()=>{downloadRelease(eu),(null==eu?void 0:eu.mod.Dependencies)&&X(eu.mod.Identifier),eA(void 0)},children:"Download"})]})]}),(0,r.jsxs)(p.Z,{id:"selectedMod",show:!!L&&L in B,size:"xl",onHide:()=>X(""),dialogClassName:z()("main-panel btd6-panel blue"),contentClassName:z()("btd6-panel blue-insert-round pb-0 shadow-none bg-transparent border-0"),children:[(0,r.jsxs)(p.Z.Header,{closeButton:!0,closeVariant:"white",children:["README.md for ",(0,j.jC)(B[L])]}),(0,r.jsx)(p.Z.Body,{children:em}),eg.length>0&&(0,r.jsxs)(p.Z.Footer,{className:"flex-column",children:[(0,r.jsx)("div",{className:"fs-2 m-0",children:"Dependencies"}),(0,r.jsx)("div",{children:"This mod has the following dependencies. It may not function properly if you don't download them as well."}),(0,r.jsx)("div",{className:"w-100 d-flex flex-column gap-3",children:eg.map(e=>{let t=B[e];return t?(0,r.jsx)(ModEntry,{mod:t,data:a.current,mini:!0}):(0,r.jsx)("div",{className:"w-100 text-center",children:e})})})]})]})]})}},5696:function(){}},function(e){e.O(0,[298,712,318,30,636,448,774,888,179],function(){return e(e.s=52075)}),_N_E=e.O()}]);