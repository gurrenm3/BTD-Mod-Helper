{"pageProps":{"data":{"contentHtml":"<p>This guide will cover both the inclusion of custom .png files to your mod and custom / modified 3D Models</p>\n<h1 id=\"custom-textures\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#custom-textures\"><span class=\"icon icon-link\"></span></a>Custom Textures</h1>\n<h2 id=\"including-the-pngs\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#including-the-pngs\"><span class=\"icon icon-link\"></span></a>Including the PNGs</h2>\n<details>\n<summary>This section only applies anymore if you aren't following the mod template / didn't use the Create Mod button</summary>\n<p>To make sure that your non-code files actually end up being included inside your .dll mod file, you need to change the way your C# project treats them.</p>\n<p><img src=\"https://i.stack.imgur.com/T6bva.png\" alt=\"Screenshot of changing build action to embedded resource\"></p>\n<p>Right click on the file you want to include (probably a .png unlike the image) and go to Properties.</p>\n<p>Find the \"Build Action\" property and set its value to be \"Embedded Resource\".</p>\n<p>Now, when you build your project, the .png will be included in the .dll as a resource that the Mod Helper can work with.</p>\n</details>\n<h2 id=\"using-the-textures\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#using-the-textures\"><span class=\"icon icon-link\"></span></a>Using the Textures</h2>\n<p>The best way to access your textures once you've included them as resources is using methods found in the <code class=\"hljs\">ModContent</code> class. (read more about that <a href=\"/wiki/ModContent\">here</a>).</p>\n<p>If you're working in a class that extends <code class=\"hljs\">ModContent</code>, then you can use some of the non-static methods like <code class=\"hljs\">GetTextureGUID(string name)</code>, <code class=\"hljs\">GetSpriteReference(string name)</code>, <code class=\"hljs\">GetTexture(string name)</code>, and <code class=\"hljs\">GetSprite(string name)</code> that return your texture in various forms that you might need it in.</p>\n<p>For all of those methods, the <code class=\"hljs\">name</code> parameter is the file name of your image without the .png file extension.</p>\n<p>If you're working somewhere outside of a class extending <code class=\"hljs\">ModContent</code>, then you'll use the equivalent static <code class=\"hljs\">ModContent</code> methods like <code class=\"hljs\">ModContent.GetTexture&#x3C;T>(string name)</code> where T is your <code class=\"hljs\">BloonsTD6Mod</code> extending class. You have to specify the Mod class for these static methods in order for it get to the correct internal ID for it.</p>\n<h1 id=\"moddisplay\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#moddisplay\"><span class=\"icon icon-link\"></span></a>ModDisplay</h1>\n<p>The <code class=\"hljs\">ModDisplay</code> class provides for an easy way to use modified versions of existing 3d Display Models, or fully custom 2D Display Models.</p>\n<p>When you create your own class that extends <code class=\"hljs\">ModDisplay</code>, it will prompt you to override one Property and 1 Method.</p>\n<h2 id=\"required-properties\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#required-properties\"><span class=\"icon icon-link\"></span></a>Required Properties</h2>\n<p><code class=\"hljs\">BaseDisplay</code>: Similar to the <code class=\"hljs\">BaseTower</code> property of <code class=\"hljs\">ModTower</code>, this is the Display that will be copied for your display. This is a GUID, so you can either just copy that in directly if you know it, or do something like <code class=\"hljs\">public override string BaseDisplay => Game.instance.model.GetTower(TowerType.DartMonkey).display.GUID;</code> There's also constants like <code class=\"hljs\">Generic2dDisplay</code> that you could use.</p>\n<p><code class=\"hljs\">ModifyDisplayNode(UnityDisplayNode node)</code>: Code to modify your base display node however you like.</p>\n<p>The most two most common things you'd do for a simple modified node would be:</p>\n<p><code class=\"hljs\">Set2DTexture(node, Name);</code> to set a 2D Display Models texture to be the a .png with the same name as your <code class=\"hljs\">ModDisplay</code> class.</p>\n<p>or</p>\n<p><code class=\"hljs\">SetMeshTexture(node, Name)</code> to set the main texture of the Node's <code class=\"hljs\">SkinnedMeshRenderer</code> to be a .png with the same name as your <code class=\"hljs\">ModDisplay</code> class.</p>\n<p>To get the .png files to edit for custom mesh textures, you can either use something like <a href=\"https://github.com/Perfare/AssetStudio/releases/latest\">AssetStudio</a> to get them from the game files yourself or just use the Mod Helpers extension method to do <code class=\"hljs\">node.SaveMeshTexture()</code>. You can specify the file path you want for the image, or if you leave it blank it will save to your local Bloons files at C:\\Users[name]\\AppData\\LocalLow\\Ninja Kiwi\\BloonsTD6</p>\n<h2 id=\"applying-moddisplays\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#applying-moddisplays\"><span class=\"icon icon-link\"></span></a>Applying ModDisplays</h2>\n<p>The easiest way to use your display is through our <code class=\"hljs\">ApplyDisplay&#x3C;T>()</code> extension methods present on things that you'd be using them for like <code class=\"hljs\">TowerModel</code>s, <code class=\"hljs\">ProjectileModel</code>s or just <code class=\"hljs\">DisplayModel</code>s.</p>\n<p>Note that for Towers, there's a special <code class=\"hljs\">ModTowerDisplay</code> class you ought to use that you can read about <a href=\"/wiki/Common-Extension-Methods\">here</a>.</p>\n<h1 id=\"fully-custom-displays\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#fully-custom-displays\"><span class=\"icon icon-link\"></span></a>Fully Custom Displays</h1>\n<p>Using Custom 3D models from outside the game requires more Unity knowledge than this tutorial covers at this time.\nHowever, if you are already in a situation where you have a Unity AssetBundle that contains Prefabs for your displays,\nthen you can follow these instructions to use them very simply.</p>\n<h2 id=\"including-the-assetbundle\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#including-the-assetbundle\"><span class=\"icon icon-link\"></span></a>Including the AssetBundle</h2>\n<p>Set your bundle to have the file extension <code class=\"hljs\">.bundle</code> and have it within your project. Mod Helper will automatically\nhandle loading from it as an embedded resource.</p>\n<h2 id=\"modcustomdisplay\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#modcustomdisplay\"><span class=\"icon icon-link\"></span></a>ModCustomDisplay</h2>\n<p>The <code class=\"hljs\">ModCustomDisplay</code> class (or <code class=\"hljs\">ModTowerCustomDisplay</code>) is what will let you use your custom displays. The two required properties are simply:</p>\n<p><code class=\"hljs\">AssetBundleName</code>: The name of your asset bundle file (without the \".bundle\" part)</p>\n<p><code class=\"hljs\">PrefabName</code>: The name of your Prefab within the bundle (case sensitive)</p>\n<p>Other class members you you can utilize are</p>\n<p><code class=\"hljs\">MaterialName</code>: Set this to automatically apply a material from your bundle with the given name to your display</p>\n<p><code class=\"hljs\">ModifyDisplayNode</code>: As with normal displays, you can modify the result display node with this</p>\n<p>Example that loads the prefab \"MyModel\" from \"assets.bundle\"</p>\n<pre><code class=\"hljs language-csharp\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyCustomDisplay</span> : <span class=\"hljs-title\">ModCustomDisplay</span>\n{\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">string</span> AssetBundleName => <span class=\"hljs-string\">\"assets\"</span>; <span class=\"hljs-comment\">// loads from \"assets.bundle\"</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">string</span> PrefabName => <span class=\"hljs-string\">\"MyModel\"</span>; <span class=\"hljs-comment\">// loads the \"MyModel\" prefab</span>\n    \n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyDisplayNode</span>(<span class=\"hljs-params\">UnityDisplayNode node</span>)</span>\n    {\n        <span class=\"hljs-comment\">// modify the node however you want</span>\n    }\n}\n</code></pre>\n<p>You can then apply this display using the standard <code class=\"hljs\">ApplyDisplay</code> methods as normal.</p>","tableOfContentsHtml":"<nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h1\"><a class=\"toc-link toc-link-h1\" href=\"#custom-textures\">Custom Textures</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#including-the-pngs\">Including the PNGs</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#using-the-textures\">Using the Textures</a></li></ol></li><li class=\"toc-item toc-item-h1\"><a class=\"toc-link toc-link-h1\" href=\"#moddisplay\">ModDisplay</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#required-properties\">Required Properties</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#applying-moddisplays\">Applying ModDisplays</a></li></ol></li><li class=\"toc-item toc-item-h1\"><a class=\"toc-link toc-link-h1\" href=\"#fully-custom-displays\">Fully Custom Displays</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#including-the-assetbundle\">Including the AssetBundle</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#modcustomdisplay\">ModCustomDisplay</a></li></ol></li></ol></nav>","title":"Custom Textures and Displays"},"sidebar":{"contentHtml":"<h5 id=\"home\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#home\"><span class=\"icon icon-link\"></span></a><a href=\"/wiki/Home\">Home</a></h5>\n<h5 id=\"install-guide\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#install-guide\"><span class=\"icon icon-link\"></span></a><a href=\"/wiki/Install-Guide\">Install Guide</a></h5>\n<h6 id=\"starting-btd-modding\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#starting-btd-modding\"><span class=\"icon icon-link\"></span></a>Starting BTD Modding</h6>\n<p><a href=\"/wiki/Prerequisites\">Prerequisites</a></p>\n<p><a href=\"/wiki/Getting-Started\">Getting Started</a></p>\n<h6 id=\"mod-helper-features\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#mod-helper-features\"><span class=\"icon icon-link\"></span></a>Mod Helper Features</h6>\n<p><a href=\"/wiki/Making-a-Custom-Tower\"><strong>Making a Custom Tower</strong></a></p>\n<p><a href=\"/wiki/Making-a-Custom-Paragon\"><strong>Making a Custom Paragon</strong></a></p>\n<p><a href=\"/wiki/Making-a-Custom-Hero\"><strong>Making a Custom Hero</strong></a></p>\n<p><a href=\"/wiki/Appearing-in-the-Mod-Browser\"><strong>Appearing in the Mod Browser</strong></a></p>\n<p><a href=\"/wiki/Localization\">Localization</a></p>\n<p><a href=\"/wiki/Making-a-Custom-Bloon\">Making a Custom Bloon</a></p>\n<p><a href=\"/wiki/Making-a-Custom-Game-Mode\">Making a Custom Game Mode</a></p>\n<p><a href=\"/wiki/Making-a-Custom-Round-Set\">Making a Custom Round Set</a></p>\n<p><a href=\"/wiki/Making-a-Custom-Jukebox-Track\">Making a Custom Jukebox Track</a></p>\n<p><a href=\"/wiki/Making-a-Custom-Artifact\">Making a Custom Artifact</a></p>\n<p><a href=\"/wiki/Custom-UI\">Custom UI (ModHelperComponents)</a></p>\n<p><a href=\"/wiki/Custom-Menu-Screens\">Custom Menu Screens</a></p>\n<p><a href=\"/wiki/Custom-Byte-Loaders\">Custom Byte Loaders</a></p>\n<h6 id=\"btd-modding-info\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#btd-modding-info\"><span class=\"icon icon-link\"></span></a>BTD Modding Info</h6>\n<p><a href=\"/wiki/BTD6-Internal-Structure\">BTD6 Internal Structure</a></p>\n<p><a href=\"/wiki/Looking-at-BTD6-Code-(Sorta)\">Looking at BTD6 Code (Sorta)</a></p>\n<p><a href=\"/wiki/IL2CPP-Is-Weird\">IL2CPP Is Weird</a></p>\n<p><a href=\"/wiki/Useful-Resources\">Useful Resources</a></p>\n<h6 id=\"mod-helper-utilities\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#mod-helper-utilities\"><span class=\"icon icon-link\"></span></a>Mod Helper Utilities</h6>\n<p><a href=\"/wiki/Using-Mod-Helper-Hooks\">Using Mod Helper Hooks</a></p>\n<p><a href=\"/wiki/ModContent\">ModContent</a></p>\n<p><a href=\"/wiki/Custom-Textures-and-Displays\">Custom Textures and Displays</a></p>\n<p><a href=\"/wiki/Mod-Settings\">In Game Mod Settings</a></p>\n<p><a href=\"/wiki/ModHooks\">Mod Hooks</a></p>\n<h6 id=\"extension-methods\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"position-relative\" href=\"#extension-methods\"><span class=\"icon icon-link\"></span></a>Extension Methods</h6>\n<p><a href=\"/wiki/Common-Extension-Methods\">Common Extension Methods</a></p>\n<p><a href=\"/wiki/Array-extension-methods\">Array Extension Methods</a></p>","tableOfContentsHtml":"<nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h5\"><a class=\"toc-link toc-link-h5\" href=\"#home\">Home</a></li><li class=\"toc-item toc-item-h5\"><a class=\"toc-link toc-link-h5\" href=\"#install-guide\">Install Guide</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#starting-btd-modding\">Starting BTD Modding</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#mod-helper-features\">Mod Helper Features</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#btd-modding-info\">BTD Modding Info</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#mod-helper-utilities\">Mod Helper Utilities</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#extension-methods\">Extension Methods</a></li></ol></li></ol></nav>"}},"__N_SSG":true}