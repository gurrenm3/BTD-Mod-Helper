{"pageProps":{"data":{"contentHtml":"<p><strong>This guide assumes that you already have at least a basic knowledge of C#, and have set up a modding environment as explained on this wiki.</strong></p>\n<p>Creating custom Bloons comes in the form of creating classes that extend <code class=\"hljs\">ModBloon</code>.</p>\n<p>If you want to add a <code class=\"hljs\">ModBloon</code> to the game in a natural way, consider <a href=\"/wiki/Making-a-Custom-Round-Set\">Making a Custom Round Set</a> / <a href=\"/wiki/Making-a-Custom-Game-Mode\">Making a Custom Game Mode</a>.</p>\n<h1 id=\"modbloon\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#modbloon\"><span class=\"icon icon-link\"></span></a><a href=\"https://github.com/gurrenm3/BTD-Mod-Helper/blob/3.0_Features/Documentation/BTD_Mod_Helper.Api.Bloons.ModBloon.md\">ModBloon</a></h1>\n<h2 id=\"required-properties\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#required-properties\"><span class=\"icon icon-link\"></span></a>Required Properties</h2>\n<p><code class=\"hljs\">BaseBloon</code>: Akin to ModTower's <code class=\"hljs\">BaseTower</code>, this is the Id of the vanilla Bloon that you want to use as a base for this Bloon. use the Mod Helper provided <code class=\"hljs\">BloonType</code> class for an exact string.</p>\n<h2 id=\"optional-properties\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#optional-properties\"><span class=\"icon icon-link\"></span></a>Optional Properties</h2>\n<p><code class=\"hljs\">Camo</code>, <code class=\"hljs\">Fortified</code> and <code class=\"hljs\">Regrow</code>: Makes the particular Bloon generate as having that particular property.</p>\n<p><code class=\"hljs\">KeepBaseId</code>: If you're making a custom Bloon that's supposed to be an extension of a vanilla Bloon, like a Fortified Red Bloon, then set this to true to make sure your Bloon still counts as a vanilla Red Bloon.</p>\n<p><code class=\"hljs\">UseIconAsDisplay</code>: Whether your Bloon's icon should just be it's display instead of having a separate (potentially 3D) ModDisplay. This will default to true if you make a MOAB class bloon.</p>\n<p><code class=\"hljs\">DamageStates</code>: An array of display ids for your Bloon to have as it gets damaged. This is in order from least damaged to most damaged, and it will automatically evenly space the displays out between 100% and 0% health.</p>\n<h2 id=\"visuals\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#visuals\"><span class=\"icon icon-link\"></span></a>Visuals</h2>\n<p>You should provide a [Name]-Icon png/jpg for your Bloons icon in menus / the non-MOAB Bloon itself.</p>\n<p>There's also the <a href=\"https://github.com/gurrenm3/BTD-Mod-Helper/blob/3.0_Features/Documentation/BTD_Mod_Helper.Api.Display.ModBloonDisplay.md\">ModBloonsDisplay</a> class you can use to more easily manage your MOAB class displays. Set <code class=\"hljs\">T</code> to be your <code class=\"hljs\">ModBloon</code> class, then set the <code class=\"hljs\">Damage</code> property to be the index that the display should be in <code class=\"hljs\">DamageStates</code>, so 0 = undamaged, increasing from that being more and more damaged.</p>\n<h2 id=\"variations\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#variations\"><span class=\"icon icon-link\"></span></a>Variations</h2>\n<p>You might want to have different variations of your Bloon that are Fortified/Regrow/Camo etc. To do that, you can use the <code class=\"hljs\">ModBloon&#x3C;T></code> class setting <code class=\"hljs\">T</code> as your <code class=\"hljs\">ModBloon</code> to use it as your <code class=\"hljs\">BaseBloon</code> and modify it from there. You can then make use of the helper extensions <code class=\"hljs\">BloonModel.MakeChildrenFortified</code>, <code class=\"hljs\">BloonModel.MakeChildrenRegrow</code> and <code class=\"hljs\">BloonModel.MakeChildrenCamo</code> to easily change all the children. (Note: this doesn't create Bloons that don't already exist like Fortified Reds, just changes children like Ceramics into Fortified Ceramics because those actually exist)</p>\n<h2 id=\"examples\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#examples\"><span class=\"icon icon-link\"></span></a>Examples</h2>\n<p>The RGB Bloon, a non-MOAB class Bloon that turns into a Red, Blue and Green Bloon</p>\n<pre><code class=\"hljs language-cs\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Rgb</span> : <span class=\"hljs-title\">ModBloon</span>\r\n{\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">string</span> BaseBloon => BloonType.Yellow;\r\n        \r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyBaseBloonModel</span>(<span class=\"hljs-params\">BloonModel bloonModel</span>)</span>\r\n    {\r\n        bloonModel.AddToChildren(BloonType.Blue);\r\n        bloonModel.AddToChildren(BloonType.Red);\r\n\r\n        bloonModel.hasChildrenWithDifferentTotalHealths = <span class=\"hljs-literal\">true</span>;\r\n        bloonModel.distributeDamageToChildren = <span class=\"hljs-literal\">false</span>;\r\n    }\r\n}\r\n\r\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">RgbRegrow</span> : <span class=\"hljs-title\">ModBloon</span>&#x3C;<span class=\"hljs-title\">Rgb</span>>\r\n{\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">bool</span> Regrow => <span class=\"hljs-literal\">true</span>;\r\n\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyBaseBloonModel</span>(<span class=\"hljs-params\">BloonModel bloonModel</span>)</span>\r\n    {\r\n        bloonModel.MakeChildrenRegrow();\r\n    }\r\n}\r\n\r\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">RgbCamo</span> : <span class=\"hljs-title\">ModBloon</span>&#x3C;<span class=\"hljs-title\">Rgb</span>>\r\n{\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">bool</span> Camo => <span class=\"hljs-literal\">true</span>;\r\n\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyBaseBloonModel</span>(<span class=\"hljs-params\">BloonModel bloonModel</span>)</span>\r\n    {\r\n        bloonModel.MakeChildrenCamo();\r\n    }\r\n}\r\n    \r\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">RgbRegrowCamo</span> : <span class=\"hljs-title\">ModBloon</span>&#x3C;<span class=\"hljs-title\">Rgb</span>>\r\n{\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">bool</span> Regrow => <span class=\"hljs-literal\">true</span>;\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">bool</span> Camo => <span class=\"hljs-literal\">true</span>;\r\n\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyBaseBloonModel</span>(<span class=\"hljs-params\">BloonModel bloonModel</span>)</span>\r\n    {\r\n        bloonModel.MakeChildrenRegrow();\r\n        bloonModel.MakeChildrenCamo();\r\n    }\r\n}\n</code></pre>\n<p>The ROFL, a MOAB class Bloon model that's an upgrade to the BAD and summons one of every base Bloon as children. Also its ModBloonDisplay, showcasing some advanced programmatic loading in action.</p>\n<pre><code class=\"hljs language-cs\"><span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&#x3C;summary></span></span>\r\n<span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> Round Omnipotent Flying Leviathan</span>\r\n<span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&#x3C;/summary></span></span>\r\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Rofl</span> : <span class=\"hljs-title\">ModBloon</span>\r\n{\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">string</span> BaseBloon => BloonType.Bad;\r\n        \r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyBaseBloonModel</span>(<span class=\"hljs-params\">BloonModel bloonModel</span>)</span>\r\n    {\r\n        bloonModel.maxHealth = bloonModel.leakDamage = <span class=\"hljs-number\">50000</span>;\r\n        bloonModel.danger++;\r\n        bloonModel.layerNumber++;\r\n            \r\n        bloonModel.RemoveAllChildren();\r\n            \r\n        bloonModel.AddToChildren(BloonType.Red);\r\n        bloonModel.AddToChildren(BloonType.Blue);\r\n        bloonModel.AddToChildren(BloonType.Green);\r\n        bloonModel.AddToChildren&#x3C;Rgb>();\r\n        bloonModel.AddToChildren(BloonType.Yellow);\r\n        bloonModel.AddToChildren(BloonType.Pink);\r\n        bloonModel.AddToChildren(BloonType.Purple);\r\n        bloonModel.AddToChildren(BloonType.Lead);\r\n        bloonModel.AddToChildren(BloonType.Black);\r\n        bloonModel.AddToChildren(BloonType.White);\r\n        bloonModel.AddToChildren(BloonType.Zebra);\r\n        bloonModel.AddToChildren(BloonType.Rainbow);\r\n        bloonModel.AddToChildren(BloonType.Ceramic);\r\n        bloonModel.AddToChildren(BloonType.Moab);\r\n        bloonModel.AddToChildren(BloonType.Bfb);\r\n        bloonModel.AddToChildren(BloonType.DdtCamo);\r\n        bloonModel.AddToChildren(BloonType.Zomg);\r\n        bloonModel.AddToChildren(BloonType.Bad);\r\n    }\r\n}\r\n    \r\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">RoflFortified</span> : <span class=\"hljs-title\">ModBloon</span>&#x3C;<span class=\"hljs-title\">Rofl</span>>\r\n{\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">bool</span> Fortified => <span class=\"hljs-literal\">true</span>;\r\n\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyBaseBloonModel</span>(<span class=\"hljs-params\">BloonModel bloonModel</span>)</span>\r\n    {\r\n        bloonModel.maxHealth = bloonModel.leakDamage = <span class=\"hljs-number\">100000</span>;\r\n            \r\n        bloonModel.MakeChildrenFortified();\r\n    }\r\n}\r\n\r\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">RoflDisplay</span> : <span class=\"hljs-title\">ModBloonDisplay</span>&#x3C;<span class=\"hljs-title\">Rofl</span>>\r\n{\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">string</span> BaseDisplay => GetBloonDisplay(BloonType.Bad, Damage);\r\n\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">string</span> Name => <span class=\"hljs-keyword\">base</span>.Name + Damage;\r\n\r\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&#x3C;summary></span></span>\r\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> Still need an empty constructor for the type to be loaded</span>\r\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&#x3C;/summary></span></span>\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-title\">RoflDisplay</span>()</span>\r\n    {\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-built_in\">int</span> Damage { <span class=\"hljs-keyword\">get</span>; }\r\n        \r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-title\">RoflDisplay</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">int</span> damage</span>)</span>\r\n    {\r\n        Damage = damage;\r\n    }\r\n    \r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> IEnumerable&#x3C;ModContent> <span class=\"hljs-title\">Load</span>()</span>\r\n    {\r\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> damage = <span class=\"hljs-number\">0</span>; damage &#x3C; <span class=\"hljs-number\">5</span>; damage++)\r\n        {\r\n            <span class=\"hljs-function\"><span class=\"hljs-keyword\">yield</span> <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title\">RoflDisplay</span>(<span class=\"hljs-params\">damage</span>)</span>;\r\n        }\r\n    }\r\n\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">override</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">ModifyDisplayNode</span>(<span class=\"hljs-params\">UnityDisplayNode node</span>)</span>\r\n    {\r\n        <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-keyword\">var</span> meshRenderer <span class=\"hljs-keyword\">in</span> node.GetMeshRenderers())\r\n        {\r\n            meshRenderer.SetMainTexture(GetTexture(Name)!);\r\n        }\r\n    }\r\n}\r\n\n</code></pre>","tableOfContentsHtml":"<nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h1\"><a class=\"toc-link toc-link-h1\" href=\"#modbloon\">ModBloon</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#required-properties\">Required Properties</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#optional-properties\">Optional Properties</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#visuals\">Visuals</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#variations\">Variations</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#examples\">Examples</a></li></ol></li></ol></nav>","title":"Making a Custom Bloon"},"sidebar":{"contentHtml":"<h5 id=\"home\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#home\"><span class=\"icon icon-link\"></span></a><a href=\"/wiki/Home\">Home</a></h5>\n<h6 id=\"starting-btd-modding\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#starting-btd-modding\"><span class=\"icon icon-link\"></span></a>Starting BTD Modding</h6>\n<p><a href=\"/wiki/Prerequisites\">Prerequisites</a></p>\n<p><a href=\"/wiki/Getting-Started\">Getting Started</a></p>\n<h6 id=\"mod-helper-features\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#mod-helper-features\"><span class=\"icon icon-link\"></span></a>Mod Helper Features</h6>\n<p><a href=\"/wiki/Making-a-Custom-Tower\"><strong>Making a Custom Tower</strong></a></p>\n<p><a href=\"/wiki/Making-a-Custom-Paragon\"><strong>Making a Custom Paragon</strong></a></p>\n<p><a href=\"/wiki/Making-a-Custom-Hero\"><strong>Making a Custom Hero</strong></a></p>\n<h6 id=\"30-features\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#30-features\"><span class=\"icon icon-link\"></span></a>3.0 Features</h6>\n<p><a href=\"/wiki/Appearing-in-the-Mod-Browser-(ModHelperData)\"><strong>Appearing in the Mod Browser</strong></a></p>\n<p><a href=\"/wiki/Making-a-Custom-Bloon\">Making a Custom Bloon</a></p>\n<p><a href=\"/wiki/Making-a-Custom-Game-Mode\">Making a Custom Game Mode</a></p>\n<p><a href=\"/wiki/Making-a-Custom-Round-Set\">Making a Custom Round Set</a></p>\n<p><a href=\"/wiki/Custom-UI\">Custom UI (ModHelperComponents)</a></p>\n<p><a href=\"/wiki/Custom-Menu-Screens\">Custom Menu Screens</a></p>\n<p><a href=\"/wiki/Custom-Load-Tasks\">Custom Load Tasks</a></p>\n<p><a href=\"/wiki/Custom-Byte-Loaders\">Custom Byte Loaders</a></p>\n<h6 id=\"btd-modding-info\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#btd-modding-info\"><span class=\"icon icon-link\"></span></a>BTD Modding Info</h6>\n<p><a href=\"/wiki/BTD6-Internal-Structure\">BTD6 Internal Structure</a></p>\n<p><a href=\"/wiki/Looking-at-BTD6-Code-(Sorta)\">Looking at BTD6 Code (Sorta)</a></p>\n<p><a href=\"/wiki/IL2CPP-Is-Weird\">IL2CPP Is Weird</a></p>\n<p><a href=\"/wiki/Useful-Resources\">Useful Resources</a></p>\n<h6 id=\"mod-helper-utilities\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#mod-helper-utilities\"><span class=\"icon icon-link\"></span></a>Mod Helper Utilities</h6>\n<p><a href=\"/wiki/Using-Mod-Helper-Hooks\">Using Mod Helper Hooks</a></p>\n<p><a href=\"/wiki/ModContent\">ModContent</a></p>\n<p><a href=\"/wiki/Custom-Textures-and-Displays\">Custom Textures and Displays</a></p>\n<p><a href=\"/wiki/Mod-Settings\">In Game Mod Settings</a></p>\n<h6 id=\"extension-methods\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"\" href=\"#extension-methods\"><span class=\"icon icon-link\"></span></a>Extension Methods</h6>\n<p><a href=\"/wiki/Common-Extension-Methods\">Common Extension Methods</a></p>\n<p><a href=\"/wiki/Array-extension-methods\">Array Extension Methods</a></p>","tableOfContentsHtml":"<nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h5\"><a class=\"toc-link toc-link-h5\" href=\"#home\">Home</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#starting-btd-modding\">Starting BTD Modding</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#mod-helper-features\">Mod Helper Features</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#30-features\">3.0 Features</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#btd-modding-info\">BTD Modding Info</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#mod-helper-utilities\">Mod Helper Utilities</a></li><li class=\"toc-item toc-item-h6\"><a class=\"toc-link toc-link-h6\" href=\"#extension-methods\">Extension Methods</a></li></ol></li></ol></nav>"}},"__N_SSG":true}